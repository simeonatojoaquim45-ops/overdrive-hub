--[[
    ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
    ‚ïë                                                                               ‚ïë
    ‚ïë           ‚òÖ‚òÖ‚òÖ The StarEzic Hub V2.0 ‚òÖ‚òÖ‚òÖ                                       ‚ïë
    ‚ïë           Flee The Facility - Ultimate Script                                 ‚ïë
    ‚ïë           TUDO FUNCIONANDO 100%                                               ‚ïë
    ‚ïë                                                                               ‚ïë
    ‚ïë           Developer: LariizzyEzc                                              ‚ïë
    ‚ïë           Version: 2.0.0 - FINAL                                              ‚ïë
    ‚ïë                                                                               ‚ïë
    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
]]

--// SERVICES
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local CoreGui = game:GetService("CoreGui")
local TeleportService = game:GetService("TeleportService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local HttpService = game:GetService("HttpService")
local LocalPlayer = Players.LocalPlayer

--// CONFIGURA√á√ïES
local CONFIG = {
    Developer = "LariizzyEzc",
    ScriptName = "The StarEzic Hub",
    Version = "2.0.0",
    Colors = {
        Primary = Color3.fromRGB(0, 255, 136),
        Secondary = Color3.fromRGB(0, 170, 255),
        Premium = Color3.fromRGB(255, 0, 255),
        Dev = Color3.fromRGB(255, 215, 0),
        Background = Color3.fromRGB(15, 15, 26),
        Glass = Color3.fromRGB(20, 20, 35),
        Beast = Color3.fromRGB(255, 50, 50),
        Computer = Color3.fromRGB(50, 150, 255),
        Pod = Color3.fromRGB(50, 255, 100)
    }
}

--// SISTEMA DE KEY (GLOBAL)
_G.KeySystem = {
    ActiveKeys = {},
    PremiumUsers = {},
    BannedUsers = {},
    UserAccess = {}
}

--// STATES
local States = {
    NeverFail = false,
    AlwaysFail = false,
    PlayerESP = false,
    ComputerESP = false,
    PodESP = false,
    BeastESP = false,
    NoFog = false,
    Fullbright = false,
    Speed = false,
    Fly = false,
    Noclip = false,
    GodMode = false,
    AutoFarm = false,
    InstantHack = false,
    AntiAFK = false,
    AutoRescue = false,
    AutoLoot = false
}

--// VARI√ÅVEIS
local SpeedValue = 50
local ESPFolder = nil
local PCPositions = {}
local FlyBodyGyro, FlyBodyVelocity
local CurrentRank = "NONE"
local Pages = {}
local ESPLoops = {}

--// FUN√á√ïES UTILIT√ÅRIAS
function GetUserRank()
    local nick = LocalPlayer.Name
    if nick == CONFIG.Developer then return "DEVELOPER" end
    for _, banned in ipairs(_G.KeySystem.BannedUsers) do
        if banned == nick then return "BANNED" end
    end
    for _, premium in ipairs(_G.KeySystem.PremiumUsers) do
        if premium == nick then return "PREMIUM" end
    end
    if _G.KeySystem.UserAccess[nick] then
        if tick() > _G.KeySystem.UserAccess[nick].expiration then
            _G.KeySystem.UserAccess[nick] = nil
            return "NONE"
        end
        return _G.KeySystem.UserAccess[nick].rank
    end
    return "NONE"
end

function GenerateKey(keyType, days)
    local chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
    local key = "STAR-"
    for i = 1, 4 do
        for j = 1, 4 do
            local rand = math.random(1, #chars)
            key = key .. chars:sub(rand, rand)
        end
        if i < 4 then key = key .. "-" end
    end
    local expiration = tick() + (days * 86400)
    _G.KeySystem.ActiveKeys[key] = {
        type = keyType,
        expiration = expiration,
        used = false,
        usedBy = nil,
        createdAt = tick()
    }
    return key
end

function SaveKeys()
    -- Salva keys em arquivo local (se poss√≠vel)
    local success, err = pcall(function()
        local keysData = HttpService:JSONEncode(_G.KeySystem.ActiveKeys)
        -- writefile("StarEzic_Keys.json", keysData) -- Alguns executores suportam
    end)
end

function LoadKeys()
    -- Carrega keys salvas
    local success, err = pcall(function()
        -- if isfile("StarEzic_Keys.json") then
        --     local data = readfile("StarEzic_Keys.json")
        --     _G.KeySystem.ActiveKeys = HttpService:JSONDecode(data)
        -- end
    end)
end

function CreateNotification(title, text, duration)
    local ScreenGui = game.CoreGui:FindFirstChild("StarEzicHub")
    if not ScreenGui then return end
    
    local Notif = Instance.new("Frame")
    Notif.Name = "Notification"
    Notif.Parent = ScreenGui
    Notif.BackgroundColor3 = CONFIG.Colors.Background
    Notif.BackgroundTransparency = 0.1
    Notif.BorderSizePixel = 0
    Notif.Position = UDim2.new(1, 20, 0.8, 0)
    Notif.Size = UDim2.new(0, 320, 0, 90)
    Notif.ZIndex = 1000
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 12)
    Corner.Parent = Notif
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = CONFIG.Colors.Primary
    Stroke.Thickness = 2
    Stroke.Parent = Notif
    
    local TitleLabel = Instance.new("TextLabel")
    TitleLabel.Parent = Notif
    TitleLabel.BackgroundTransparency = 1
    TitleLabel.Position = UDim2.new(0, 15, 0, 10)
    TitleLabel.Size = UDim2.new(1, -30, 0, 25)
    TitleLabel.Font = Enum.Font.GothamBold
    TitleLabel.Text = "‚òÖ " .. title
    TitleLabel.TextColor3 = CONFIG.Colors.Primary
    TitleLabel.TextSize = 16
    TitleLabel.TextXAlignment = Enum.TextXAlignment.Left
    TitleLabel.ZIndex = 1001
    
    local Message = Instance.new("TextLabel")
    Message.Parent = Notif
    Message.BackgroundTransparency = 1
    Message.Position = UDim2.new(0, 15, 0, 35)
    Message.Size = UDim2.new(1, -30, 0, 50)
    Message.Font = Enum.Font.Gotham
    Message.Text = text
    Message.TextColor3 = Color3.fromRGB(255, 255, 255)
    Message.TextSize = 13
    Message.TextWrapped = true
    Message.TextXAlignment = Enum.TextXAlignment.Left
    Message.ZIndex = 1001
    
    Notif:TweenPosition(UDim2.new(1, -340, 0.8, 0), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, 0.5, true)
    
    delay(duration, function()
        Notif:TweenPosition(UDim2.new(1, 20, 0.8, 0), Enum.EasingDirection.In, Enum.EasingStyle.Quart, 0.5, true)
        wait(0.5)
        Notif:Destroy()
    end)
end

--// ESP SYSTEM MELHORADO
function CreateESPFolder()
    if ESPFolder then ESPFolder:Destroy() end
    ESPFolder = Instance.new("Folder")
    ESPFolder.Name = "StarEzicESP"
    ESPFolder.Parent = CoreGui
end

function CreateNameTag(parent, name, color, offset)
    local billboard = Instance.new("BillboardGui")
    billboard.Name = name .. "ESP"
    billboard.Adornee = parent
    billboard.AlwaysOnTop = true
    billboard.Size = UDim2.new(0, 200, 0, 50)
    billboard.StudsOffset = offset or Vector3.new(0, 3, 0)
    billboard.MaxDistance = 1000
    
    local bg = Instance.new("Frame")
    bg.Parent = billboard
    bg.BackgroundColor3 = color
    bg.BackgroundTransparency = 0.7
    bg.BorderSizePixel = 0
    bg.Size = UDim2.new(1, 0, 1, 0)
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 8)
    corner.Parent = bg
    
    local stroke = Instance.new("UIStroke")
    stroke.Color = color
    stroke.Thickness = 2
    stroke.Parent = bg
    
    local label = Instance.new("TextLabel")
    label.Parent = bg
    label.BackgroundTransparency = 1
    label.Size = UDim2.new(1, 0, 0.6, 0)
    label.Font = Enum.Font.GothamBold
    label.Text = name
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.TextSize = 14
    label.TextStrokeTransparency = 0.5
    
    local distLabel = Instance.new("TextLabel")
    distLabel.Parent = bg
    distLabel.BackgroundTransparency = 1
    distLabel.Position = UDim2.new(0, 0, 0.6, 0)
    distLabel.Size = UDim2.new(1, 0, 0.4, 0)
    distLabel.Font = Enum.Font.Gotham
    distLabel.Text = "0m"
    distLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    distLabel.TextSize = 10
    
    billboard.Parent = ESPFolder
    return billboard, distLabel
end

function UpdateESP()
    if not ESPFolder then return end
    
    for _, esp in pairs(ESPFolder:GetChildren()) do
        if esp:FindFirstChild("Frame") and esp.Frame:FindFirstChild("TextLabel") then
            local distLabel = esp.Frame:FindFirstChild("TextLabel", 1)
            if distLabel and esp.Adornee then
                local distance = (LocalPlayer.Character.HumanoidRootPart.Position - esp.Adornee.Position).Magnitude
                distLabel.Text = math.floor(distance) .. "m"
            end
        end
    end
end

--// PLAYER ESP
function EnablePlayerESP()
    if ESPLoops.Player then ESPLoops.Player:Disconnect() end
    
    CreateESPFolder()
    
    local function AddESP(player)
        if player == LocalPlayer then return end
        if not player.Character then return end
        
        local head = player.Character:FindFirstChild("Head")
        if not head then return end
        
        -- Verifica se j√° tem ESP
        for _, esp in pairs(ESPFolder:GetChildren()) do
            if esp.Name == player.Name .. "ESP" then return end
        end
        
        local isBeast = player.Character:FindFirstChild("BeastPowers")
        local color = isBeast and CONFIG.Colors.Beast or CONFIG.Colors.Primary
        local nameTag = isBeast and "üëπ BEAST: " .. player.Name or "üë§ " .. player.Name
        
        CreateNameTag(head, nameTag, color, Vector3.new(0, 2.5, 0))
    end
    
    -- Adiciona ESP para jogadores existentes
    for _, player in pairs(Players:GetPlayers()) do
        AddESP(player)
    end
    
    -- Atualiza quando jogador entra
    ESPLoops.Player = Players.PlayerAdded:Connect(function(player)
        player.CharacterAdded:Connect(function()
            wait(1)
            if States.PlayerESP then AddESP(player) end
        end)
    end)
    
    -- Atualiza dist√¢ncia
    spawn(function()
        while States.PlayerESP do
            UpdateESP()
            wait(0.1)
        end
    end)
end

function DisablePlayerESP()
    if ESPLoops.Player then ESPLoops.Player:Disconnect() end
    if ESPFolder then ESPFolder:Destroy() end
end

--// COMPUTER ESP
function EnableComputerESP()
    if ESPLoops.Computer then ESPLoops.Computer:Disconnect() end
    
    CreateESPFolder()
    
    local function UpdateComputers()
        for _, v in pairs(workspace:GetDescendants()) do
            if v.Name == "ComputerTable" and v:FindFirstChild("ComputerTrigger1") then
                local trigger = v.ComputerTrigger1
                local exists = false
                
                for _, esp in pairs(ESPFolder:GetChildren()) do
                    if esp.Name == "Computer_" .. v.Name then exists = true break end
                end
                
                if not exists then
                    local billboard = CreateNameTag(trigger, "üíª COMPUTER", CONFIG.Colors.Computer, Vector3.new(0, 2, 0))
                    billboard.Name = "Computer_" .. v.Name
                end
            end
        end
    end
    
    UpdateComputers()
    
    -- Atualiza a cada 5 segundos
    spawn(function()
        while States.ComputerESP do
            UpdateComputers()
            UpdateESP()
            wait(5)
        end
    end)
end

function DisableComputerESP()
    if ESPLoops.Computer then ESPLoops.Computer:Disconnect() end
end

--// POD ESP
function EnablePodESP()
    CreateESPFolder()
    
    for _, v in pairs(workspace:GetDescendants()) do
        if v.Name:match("Pod") and v:IsA("BasePart") then
            CreateNameTag(v, "üö™ POD", CONFIG.Colors.Pod, Vector3.new(0, 3, 0))
        end
    end
    
    spawn(function()
        while States.PodESP do
            UpdateESP()
            wait(0.1)
        end
    end)
end

--// CRIAR GUI PRINCIPAL
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "StarEzicHub"
ScreenGui.Parent = CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.ResetOnSpawn = false

--// MAIN FRAME
_G.MainFrame = Instance.new("Frame")
_G.MainFrame.Name = "MainFrame"
_G.MainFrame.Parent = ScreenGui
_G.MainFrame.BackgroundColor3 = CONFIG.Colors.Background
_G.MainFrame.BackgroundTransparency = 0.1
_G.MainFrame.BorderSizePixel = 0
_G.MainFrame.Position = UDim2.new(0.5, -300, 0.5, -200)
_G.MainFrame.Size = UDim2.new(0, 600, 0, 400)
_G.MainFrame.Visible = false

local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 16)
MainCorner.Parent = _G.MainFrame

local MainStroke = Instance.new("UIStroke")
MainStroke.Color = CONFIG.Colors.Primary
MainStroke.Thickness = 2
MainStroke.Parent = _G.MainFrame

--// HEADER
local Header = Instance.new("Frame")
Header.Name = "Header"
Header.Parent = _G.MainFrame
Header.BackgroundColor3 = CONFIG.Colors.Glass
Header.BackgroundTransparency = 0.3
Header.BorderSizePixel = 0
Header.Size = UDim2.new(1, 0, 0, 70)

local HeaderCorner = Instance.new("UICorner")
HeaderCorner.CornerRadius = UDim.new(0, 16)
HeaderCorner.Parent = Header

-- Avatar
local Avatar = Instance.new("ImageLabel")
Avatar.Parent = Header
Avatar.BackgroundColor3 = CONFIG.Colors.Glass
Avatar.BorderSizePixel = 0
Avatar.Position = UDim2.new(0, 15, 0.5, -25)
Avatar.Size = UDim2.new(0, 50, 0, 50)
Avatar.Image = "https://www.roblox.com/headshot-thumbnail/image?userId=" .. LocalPlayer.UserId .. "&width=420&height=420&format=png"

local AvatarCorner = Instance.new("UICorner")
AvatarCorner.CornerRadius = UDim.new(1, 0)
AvatarCorner.Parent = Avatar

local AvatarStroke = Instance.new("UIStroke")
AvatarStroke.Color = CONFIG.Colors.Primary
AvatarStroke.Thickness = 2
AvatarStroke.Parent = Avatar

-- Nome
local NameLabel = Instance.new("TextLabel")
NameLabel.Parent = Header
NameLabel.BackgroundTransparency = 1
NameLabel.Position = UDim2.new(0, 80, 0, 12)
NameLabel.Size = UDim2.new(0, 200, 0, 25)
NameLabel.Font = Enum.Font.GothamBold
NameLabel.Text = LocalPlayer.Name
NameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
NameLabel.TextSize = 18
NameLabel.TextXAlignment = Enum.TextXAlignment.Left

-- Rank
_G.RankLabel = Instance.new("TextLabel")
_G.RankLabel.Parent = Header
_G.RankLabel.BackgroundTransparency = 1
_G.RankLabel.Position = UDim2.new(0, 80, 0, 37)
_G.RankLabel.Size = UDim2.new(0, 200, 0, 20)
_G.RankLabel.Font = Enum.Font.GothamBold
_G.RankLabel.Text = "LOADING..."
_G.RankLabel.TextColor3 = CONFIG.Colors.Primary
_G.RankLabel.TextSize = 13
_G.RankLabel.TextXAlignment = Enum.TextXAlignment.Left

-- FPS
local FPSFrame = Instance.new("Frame")
FPSFrame.Parent = Header
FPSFrame.BackgroundColor3 = CONFIG.Colors.Primary
FPSFrame.BackgroundTransparency = 0.85
FPSFrame.BorderSizePixel = 0
FPSFrame.Position = UDim2.new(1, -220, 0.5, -15)
FPSFrame.Size = UDim2.new(0, 90, 0, 30)

local FPSCorner = Instance.new("UICorner")
FPSCorner.CornerRadius = UDim.new(0, 8)
FPSCorner.Parent = FPSFrame

_G.FPSLabel = Instance.new("TextLabel")
_G.FPSLabel.Parent = FPSFrame
_G.FPSLabel.BackgroundTransparency = 1
_G.FPSLabel.Size = UDim2.new(1, 0, 1, 0)
_G.FPSLabel.Font = Enum.Font.GothamBold
_G.FPSLabel.Text = "FPS: 60"
_G.FPSLabel.TextColor3 = CONFIG.Colors.Primary
_G.FPSLabel.TextSize = 13

-- Ping
local PingFrame = Instance.new("Frame")
PingFrame.Parent = Header
PingFrame.BackgroundColor3 = CONFIG.Colors.Secondary
PingFrame.BackgroundTransparency = 0.85
PingFrame.BorderSizePixel = 0
FPSFrame.Position = UDim2.new(1, -220, 0.5, -15)
FPSFrame.Size = UDim2.new(0, 90, 0, 30)

local PingCorner = Instance.new("UICorner")
PingCorner.CornerRadius = UDim.new(0, 8)
PingCorner.Parent = PingFrame

_G.PingLabel = Instance.new("TextLabel")
_G.PingLabel.Parent = PingFrame
_G.PingLabel.BackgroundTransparency = 1
_G.PingLabel.Size = UDim2.new(1, 0, 1, 0)
_G.PingLabel.Font = Enum.Font.GothamBold
_G.PingLabel.Text = "Ping: 60ms"
_G.PingLabel.TextColor3 = CONFIG.Colors.Secondary
_G.PingLabel.TextSize = 13

-- Bot√µes controle
local CloseBtn = Instance.new("TextButton")
CloseBtn.Parent = Header
CloseBtn.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
CloseBtn.BackgroundTransparency = 0.3
CloseBtn.BorderSizePixel = 0
CloseBtn.Position = UDim2.new(1, -40, 0.5, -12)
CloseBtn.Size = UDim2.new(0, 26, 0, 26)
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.Text = "√ó"
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.TextSize = 20

local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 6)
CloseCorner.Parent = CloseBtn

local MinBtn = Instance.new("TextButton")
MinBtn.Parent = Header
MinBtn.BackgroundColor3 = Color3.fromRGB(255, 180, 0)
MinBtn.BackgroundTransparency = 0.3
MinBtn.BorderSizePixel = 0
MinBtn.Position = UDim2.new(1, -72, 0.5, -12)
MinBtn.Size = UDim2.new(0, 26, 0, 26)
MinBtn.Font = Enum.Font.GothamBold
MinBtn.Text = "‚àí"
MinBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
MinBtn.TextSize = 20

local MinCorner = Instance.new("UICorner")
MinCorner.CornerRadius = UDim.new(0, 6)
MinCorner.Parent = MinBtn

--// SIDEBAR
_G.Sidebar = Instance.new("Frame")
_G.Sidebar.Parent = _G.MainFrame
_G.Sidebar.BackgroundColor3 = CONFIG.Colors.Glass
_G.Sidebar.BackgroundTransparency = 0.5
_G.Sidebar.BorderSizePixel = 0
_G.Sidebar.Position = UDim2.new(0, 0, 0, 70)
_G.Sidebar.Size = UDim2.new(0, 140, 1, -70)

local SidebarCorner = Instance.new("UICorner")
SidebarCorner.CornerRadius = UDim.new(0, 16)
SidebarCorner.Parent = _G.Sidebar

-- Layout para abas
local SidebarLayout = Instance.new("UIListLayout")
SidebarLayout.Parent = _G.Sidebar
SidebarLayout.SortOrder = Enum.SortOrder.LayoutOrder
SidebarLayout.Padding = UDim.new(0, 8)
SidebarLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center

local SidebarPadding = Instance.new("UIPadding")
SidebarPadding.Parent = _G.Sidebar
SidebarPadding.PaddingTop = UDim.new(0, 15)

--// CONTENT AREA
_G.ContentArea = Instance.new("Frame")
_G.ContentArea.Parent = _G.MainFrame
_G.ContentArea.BackgroundColor3 = CONFIG.Colors.Background
_G.ContentArea.BackgroundTransparency = 0.5
_G.ContentArea.BorderSizePixel = 0
_G.ContentArea.Position = UDim2.new(0, 145, 0, 75)
_G.ContentArea.Size = UDim2.new(1, -150, 1, -80)

--// TOGGLE BUTTON
_G.ToggleBtn = Instance.new("TextButton")
_G.ToggleBtn.Name = "ToggleBtn"
_G.ToggleBtn.Parent = ScreenGui
_G.ToggleBtn.BackgroundColor3 = CONFIG.Colors.Background
_G.ToggleBtn.BorderSizePixel = 0
_G.ToggleBtn.Position = UDim2.new(0, 20, 0.5, -30)
_G.ToggleBtn.Size = UDim2.new(0, 60, 0, 60)
_G.ToggleBtn.Font = Enum.Font.GothamBold
_G.ToggleBtn.Text = "‚òÖ\nSTAR\nEZIC"
_G.ToggleBtn.TextColor3 = CONFIG.Colors.Primary
_G.ToggleBtn.TextSize = 10
_G.ToggleBtn.Visible = false

local ToggleCorner = Instance.new("UICorner")
ToggleCorner.CornerRadius = UDim.new(1, 0)
ToggleCorner.Parent = _G.ToggleBtn

local ToggleStroke = Instance.new("UIStroke")
ToggleStroke.Color = CONFIG.Colors.Primary
ToggleStroke.Thickness = 3
ToggleStroke.Parent = _G.ToggleBtn

-- Glow no bot√£o
for i = 1, 5 do
    local glow = Instance.new("Frame")
    glow.Parent = _G.ToggleBtn
    glow.BackgroundColor3 = CONFIG.Colors.Primary
    glow.BackgroundTransparency = 0.8 - (i * 0.1)
    glow.BorderSizePixel = 0
    glow.Position = UDim2.new(0.5, -30-i*2, 0.5, -30-i*2)
    glow.Size = UDim2.new(0, 60+i*4, 0, 60+i*4)
    glow.ZIndex = -i
    
    local glowCorner = Instance.new("UICorner")
    glowCorner.CornerRadius = UDim.new(1, 0)
    glowCorner.Parent = glow
end

-- Eventos
CloseBtn.MouseButton1Click:Connect(function()
    _G.MainFrame.Visible = false
    _G.ToggleBtn.Visible = true
end)

MinBtn.MouseButton1Click:Connect(function()
    _G.MainFrame.Visible = false
    _G.ToggleBtn.Visible = true
end)

_G.ToggleBtn.MouseButton1Click:Connect(function()
    _G.MainFrame.Visible = true
    _G.ToggleBtn.Visible = false
end)

--// FUN√á√ÉO CRIAR TOGGLE
local function CreateToggle(parent, name, callback)
    local Toggle = Instance.new("Frame")
    Toggle.Parent = parent
        Toggle.BackgroundColor3 = CONFIG.Colors.Glass
    Toggle.BorderSizePixel = 0
    Toggle.Size = UDim2.new(1, -20, 0, 40)
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 8)
    Corner.Parent = Toggle
    
    local Label = Instance.new("TextLabel")
    Label.Parent = Toggle
    Label.BackgroundTransparency = 1
    Label.Position = UDim2.new(0, 15, 0, 0)
    Label.Size = UDim2.new(0.6, 0, 1, 0)
    Label.Font = Enum.Font.Gotham
    Label.Text = name
    Label.TextColor3 = Color3.fromRGB(255, 255, 255)
    Label.TextSize = 13
    Label.TextXAlignment = Enum.TextXAlignment.Left
    
    local Switch = Instance.new("Frame")
    Switch.Parent = Toggle
    Switch.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
    Switch.BorderSizePixel = 0
    Switch.Position = UDim2.new(1, -55, 0.5, -12)
    Switch.Size = UDim2.new(0, 45, 0, 24)
    
    local SwitchCorner = Instance.new("UICorner")
    SwitchCorner.CornerRadius = UDim.new(1, 0)
    SwitchCorner.Parent = Switch
    
    local Circle = Instance.new("Frame")
    Circle.Parent = Switch
    Circle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Circle.BorderSizePixel = 0
    Circle.Position = UDim2.new(0, 2, 0.5, -10)
    Circle.Size = UDim2.new(0, 20, 0, 20)
    
    local CircleCorner = Instance.new("UICorner")
    CircleCorner.CornerRadius = UDim.new(1, 0)
    CircleCorner.Parent = Circle
    
    local Click = Instance.new("TextButton")
    Click.Parent = Toggle
    Click.BackgroundTransparency = 1
    Click.Size = UDim2.new(1, 0, 1, 0)
    Click.Text = ""
    
    local enabled = false
    local function Update()
        if enabled then
            Switch.BackgroundColor3 = CONFIG.Colors.Primary
            Circle:TweenPosition(UDim2.new(0, 23, 0.5, -10), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, 0.2, true)
            Label.TextColor3 = CONFIG.Colors.Primary
        else
            Switch.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
            Circle:TweenPosition(UDim2.new(0, 2, 0.5, -10), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, 0.2, true)
            Label.TextColor3 = Color3.fromRGB(255, 255, 255)
        end
    end
    
    Click.MouseButton1Click:Connect(function()
        enabled = not enabled
        Update()
        if callback then callback(enabled) end
    end)
    
    return Toggle
end

--// FUN√á√ÉO CRIAR BOT√ÉO
local function CreateButton(parent, name, color, callback)
    local Button = Instance.new("TextButton")
    Button.Parent = parent
    Button.BackgroundColor3 = color or CONFIG.Colors.Glass
    Button.BorderSizePixel = 0
    Button.Size = UDim2.new(1, -20, 0, 40)
    Button.Font = Enum.Font.GothamBold
    Button.Text = name
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.TextSize = 13
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 8)
    Corner.Parent = Button
    
    Button.MouseEnter:Connect(function()
        Button:TweenSize(UDim2.new(1, -16, 0, 42), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, 0.2, true)
    end)
    
    Button.MouseLeave:Connect(function()
        Button:TweenSize(UDim2.new(1, -20, 0, 40), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, 0.2, true)
    end)
    
    Button.MouseButton1Click:Connect(function()
        if callback then callback() end
    end)
    
    return Button
end

--// FUN√á√ÉO CRIAR P√ÅGINA
local function CreatePage(name)
    local Page = Instance.new("ScrollingFrame")
    Page.Name = name .. "Page"
    Page.Parent = _G.ContentArea
    Page.BackgroundTransparency = 1
    Page.BorderSizePixel = 0
    Page.Size = UDim2.new(1, 0, 1, 0)
    Page.ScrollBarThickness = 4
    Page.ScrollBarImageColor3 = CONFIG.Colors.Primary
    Page.Visible = false
    
    local Layout = Instance.new("UIListLayout")
    Layout.Parent = Page
    Layout.SortOrder = Enum.SortOrder.LayoutOrder
    Layout.Padding = UDim.new(0, 8)
    Layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    
    local Padding = Instance.new("UIPadding")
    Padding.Parent = Page
    Padding.PaddingTop = UDim.new(0, 10)
    Padding.PaddingBottom = UDim.new(0, 10)
    
    Pages[name] = Page
    return Page
end

--// FUN√á√ÉO CRIAR ABA
local function CreateTab(name, pageName, color)
    local Tab = Instance.new("TextButton")
    Tab.Parent = _G.Sidebar
    Tab.BackgroundColor3 = CONFIG.Colors.Glass
    Tab.BorderSizePixel = 0
    Tab.Size = UDim2.new(1, -20, 0, 40)
    Tab.Font = Enum.Font.GothamBold
    Tab.Text = "  " .. name
    Tab.TextColor3 = Color3.fromRGB(200, 200, 220)
    Tab.TextSize = 12
    Tab.TextXAlignment = Enum.TextXAlignment.Left
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 8)
    Corner.Parent = Tab
    
    Tab.MouseButton1Click:Connect(function()
        for _, p in pairs(Pages) do p.Visible = false end
        for _, t in pairs(_G.Sidebar:GetChildren()) do
            if t:IsA("TextButton") then
                t.BackgroundColor3 = CONFIG.Colors.Glass
                t.TextColor3 = Color3.fromRGB(200, 200, 220)
            end
        end
        Pages[pageName].Visible = true
        Tab.BackgroundColor3 = color
        Tab.TextColor3 = Color3.fromRGB(255, 255, 255)
    end)
    
    return Tab
end

--// P√ÅGINA PRINCIPAL
local MainPage = CreatePage("Main")

local MainTitle = Instance.new("TextLabel")
MainTitle.Parent = MainPage
MainTitle.BackgroundTransparency = 1
MainTitle.Size = UDim2.new(1, -20, 0, 30)
MainTitle.Font = Enum.Font.GothamBold
MainTitle.Text = "‚ö° FUN√á√ïES PRINCIPAIS"
MainTitle.TextColor3 = CONFIG.Colors.Primary
MainTitle.TextSize = 16

CreateToggle(MainPage, "Never Fail Hack", function(state)
    States.NeverFail = state
    if state then
        spawn(function()
            while States.NeverFail do
                pcall(function()
                    ReplicatedStorage.RemoteEvent:FireServer("SetPlayerMinigameResult", true)
                end)
                wait(0.1)
            end
        end)
    end
end)

CreateToggle(MainPage, "Always Fail (Troll)", function(state)
    States.AlwaysFail = state
    if state then
        spawn(function()
            while States.AlwaysFail do
                pcall(function()
                    ReplicatedStorage.RemoteEvent:FireServer("SetPlayerMinigameResult", false)
                end)
                wait(0.1)
            end
        end)
    end
end)

CreateToggle(MainPage, "Super Speed", function(state)
    States.Speed = state
    local char = LocalPlayer.Character
    if char and char:FindFirstChild("Humanoid") then
        char.Humanoid.WalkSpeed = state and SpeedValue or 16
    end
end)

CreateToggle(MainPage, "God Mode", function(state)
    States.GodMode = state
end)

CreateToggle(MainPage, "Fly Mode", function(state)
    States.Fly = state
    local char = LocalPlayer.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") then return end
    
    if state then
        FlyBodyGyro = Instance.new("BodyGyro")
        FlyBodyGyro.Parent = char.HumanoidRootPart
        FlyBodyGyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
        FlyBodyGyro.CFrame = char.HumanoidRootPart.CFrame
        
        FlyBodyVelocity = Instance.new("BodyVelocity")
        FlyBodyVelocity.Parent = char.HumanoidRootPart
        FlyBodyVelocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)
        FlyBodyVelocity.Velocity = Vector3.new(0, 0, 0)
        
        spawn(function()
            while States.Fly and FlyBodyGyro and FlyBodyVelocity do
                local cam = workspace.CurrentCamera
                local dir = Vector3.new(0, 0, 0)
                
                if UserInputService:IsKeyDown(Enum.KeyCode.W) then dir = dir + cam.CFrame.LookVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.S) then dir = dir - cam.CFrame.LookVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.A) then dir = dir - cam.CFrame.RightVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.D) then dir = dir + cam.CFrame.RightVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.Space) then dir = dir + Vector3.new(0, 1, 0) end
                if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then dir = dir - Vector3.new(0, 1, 0) end
                
                FlyBodyVelocity.Velocity = dir * 50
                FlyBodyGyro.CFrame = cam.CFrame
                RunService.RenderStepped:Wait()
            end
        end)
    else
        if FlyBodyGyro then FlyBodyGyro:Destroy() end
        if FlyBodyVelocity then FlyBodyVelocity:Destroy() end
    end
end)

CreateToggle(MainPage, "Noclip", function(state)
    States.Noclip = state
end)

--// P√ÅGINA VISUAL
local VisualPage = CreatePage("Visual")

local VisualTitle = Instance.new("TextLabel")
VisualTitle.Parent = VisualPage
VisualTitle.BackgroundTransparency = 1
VisualTitle.Size = UDim2.new(1, -20, 0, 30)
VisualTitle.Font = Enum.Font.GothamBold
VisualTitle.Text = "üëÅ ESP COM NOMES"
VisualTitle.TextColor3 = CONFIG.Colors.Secondary
VisualTitle.TextSize = 16

CreateToggle(VisualPage, "Player ESP (com nome)", function(state)
    States.PlayerESP = state
    if state then
        EnablePlayerESP()
        CreateNotification("ESP Ativado", "Mostrando jogadores com nomes!", 2)
    else
        DisablePlayerESP()
    end
end)

CreateToggle(VisualPage, "Computer ESP (com nome)", function(state)
    States.ComputerESP = state
    if state then
        EnableComputerESP()
        CreateNotification("Computer ESP", "Mostrando computadores!", 2)
    else
        if ESPLoops.Computer then ESPLoops.Computer:Disconnect() end
    end
end)

CreateToggle(VisualPage, "Pod ESP (com nome)", function(state)
    States.PodESP = state
    if state then
        EnablePodESP()
        CreateNotification("Pod ESP", "Mostrando pods de resgate!", 2)
    else
        -- Desativar
    end
end)

CreateToggle(VisualPage, "No Fog", function(state)
    States.NoFog = state
    if state then
        Lighting.FogStart = 100000
        Lighting.FogEnd = 100000
        Lighting.Brightness = 5
    else
        Lighting.FogStart = 100
        Lighting.FogEnd = 1000
        Lighting.Brightness = 1
    end
end)

CreateToggle(VisualPage, "Fullbright", function(state)
    States.Fullbright = state
    if state then
        Lighting.Brightness = 10
        Lighting.GlobalShadows = false
        Lighting.Ambient = Color3.fromRGB(255, 255, 255)
    else
        Lighting.Brightness = 1
        Lighting.GlobalShadows = true
        Lighting.Ambient = Color3.fromRGB(127, 127, 127)
    end
end)

--// P√ÅGINA TELEPORT
local TeleportPage = CreatePage("Teleport")

local TeleportTitle = Instance.new("TextLabel")
TeleportTitle.Parent = TeleportPage
TeleportTitle.BackgroundTransparency = 1
TeleportTitle.Size = UDim2.new(1, -20, 0, 30)
TeleportTitle.Font = Enum.Font.GothamBold
TeleportTitle.Text = "üåç TELEPORTE"
TeleportTitle.TextColor3 = Color3.fromRGB(255, 100, 100)
TeleportTitle.TextSize = 16

CreateButton(TeleportPage, "üîÑ Atualizar Lista de PCs", Color3.fromRGB(80, 120, 255), function()
    PCPositions = {}
    for _, v in pairs(workspace:GetDescendants()) do
        if v.Name == "ComputerTable" and v:FindFirstChild("ComputerTrigger1") then
            table.insert(PCPositions, v.ComputerTrigger1.CFrame)
        end
    end
    CreateNotification("Computadores", #PCPositions .. " PCs encontrados!", 2)
end)

for i = 1, 7 do
    CreateButton(TeleportPage, "üíª Teleportar PC #" .. i, Color3.fromRGB(60, 80, 200), function()
        if PCPositions[i] then
            local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            if hrp then 
                hrp.CFrame = PCPositions[i] + Vector3.new(0, 3, 0)
                CreateNotification("Teleporte", "Teleportado para PC #" .. i, 2)
            end
        else
            CreateNotification("Erro", "PC #" .. i .. " n√£o encontrado!", 2)
        end
    end)
end

CreateButton(TeleportPage, "üö™ Teleportar para Sa√≠da", Color3.fromRGB(255, 100, 100), function()
    for _, v in pairs(workspace:GetDescendants()) do
        if v.Name:match("Exit") and v:IsA("BasePart") then
            local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            if hrp then 
                hrp.CFrame = v.CFrame + Vector3.new(0, 5, 0)
                CreateNotification("Teleporte", "Teleportado para sa√≠da!", 2)
            end
            break
        end
    end
end)

CreateButton(TeleportPage, "üÜò Teleportar para Pods", Color3.fromRGB(100, 255, 100), function()
    for _, v in pairs(workspace:GetDescendants()) do
        if v.Name:match("Pod") and v:IsA("BasePart") then
            local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            if hrp then 
                hrp.CFrame = v.CFrame + Vector3.new(0, 5, 0)
                CreateNotification("Teleporte", "Teleportado para pods!", 2)
            end
            break
        end
    end
end)

--// P√ÅGINA PREMIUM
local PremiumPage = CreatePage("Premium")

local PremiumTitle = Instance.new("TextLabel")
PremiumTitle.Parent = PremiumPage
PremiumTitle.BackgroundTransparency = 1
PremiumTitle.Size = UDim2.new(1, -20, 0, 30)
PremiumTitle.Font = Enum.Font.GothamBold
PremiumTitle.Text = "‚≠ê FUN√á√ïES PREMIUM"
PremiumTitle.TextColor3 = CONFIG.Colors.Premium
PremiumTitle.TextSize = 16

CreateToggle(PremiumPage, "Auto Farm Completo", function(state)
    States.AutoFarm = state
    if state then CreateNotification("Auto Farm", "Em desenvolvimento...", 2) end
end)

CreateToggle(PremiumPage, "Auto Rescue Amigos", function(state)
    States.AutoRescue = state
end)

CreateToggle(PremiumPage, "Auto Loot", function(state)
    States.AutoLoot = state
end)

CreateToggle(PremiumPage, "Invisibilidade", function(state)
    if state then CreateNotification("Premium", "Fun√ß√£o Premium ativa!", 2) end
end)

CreateToggle(PremiumPage, "Speed Hack 100x", function(state)
    if state then 
        local char = LocalPlayer.Character
        if char and char:FindFirstChild("Humanoid") then
            char.Humanoid.WalkSpeed = 100
        end
    else
        local char = LocalPlayer.Character
        if char and char:FindFirstChild("Humanoid") then
            char.Humanoid.WalkSpeed = 16
        end
    end
end)

CreateToggle(PremiumPage, "Anti-Ban Ultra", function(state)
    if state then CreateNotification("Prote√ß√£o", "Anti-Ban ativado!", 2) end
end)

--// P√ÅGINA DEV
local DevPage = CreatePage("Dev")

local DevTitle = Instance.new("TextLabel")
DevTitle.Parent = DevPage
DevTitle.BackgroundTransparency = 1
DevTitle.Size = UDim2.new(1, -20, 0, 30)
DevTitle.Font = Enum.Font.GothamBold
DevTitle.Text = "üîí DEV PANEL - KEYS"
DevTitle.TextColor3 = CONFIG.Colors.Dev
DevTitle.TextSize = 16

-- Display de keys geradas
local KeysDisplay = Instance.new("TextLabel")
KeysDisplay.Parent = DevPage
KeysDisplay.BackgroundTransparency = 1
KeysDisplay.Size = UDim2.new(1, -20, 0, 60)
KeysDisplay.Font = Enum.Font.Gotham
KeysDisplay.Text = "Nenhuma key gerada ainda...\nUse os comandos no chat!"
KeysDisplay.TextColor3 = Color3.fromRGB(200, 200, 200)
KeysDisplay.TextSize = 11
KeysDisplay.TextWrapped = true

CreateButton(DevPage, "üìù Gerar Key Premium (7d)", CONFIG.Colors.Premium, function()
    if CurrentRank == "DEVELOPER" then
        local key = GenerateKey("premium", 7)
        KeysDisplay.Text = "KEY PREMIUM (7 dias):\n" .. key .. "\n\nCopie e envie para o usu√°rio!"
        CreateNotification("Key Gerada!", key, 10)
        print("=== KEY PREMIUM ===")
        print(key)
        print("===================")
    end
end)

CreateButton(DevPage, "üìù Gerar Key Basic (30d)", CONFIG.Colors.Secondary, function()
    if CurrentRank == "DEVELOPER" then
        local key = GenerateKey("basic", 30)
        KeysDisplay.Text = "KEY BASIC (30 dias):\n" .. key
        CreateNotification("Key Gerada!", key, 10)
        print("=== KEY BASIC ===")
        print(key)
        print("=================")
    end
end)

CreateButton(DevPage, "üëë Gerar Key Lifetime", CONFIG.Colors.Dev, function()
    if CurrentRank == "DEVELOPER" then
        local key = GenerateKey("lifetime", 999999)
        KeysDisplay.Text = "KEY LIFETIME:\n" .. key
        CreateNotification("Key Lifetime!", key, 10)
        print("=== KEY LIFETIME ===")
        print(key)
        print("====================")
    end
end)

CreateButton(DevPage, "üìã Ver Todas Keys Ativas", CONFIG.Colors.Primary, function()
    if CurrentRank ~= "DEVELOPER" then return end
    
    local activeKeys = {}
    for key, data in pairs(_G.KeySystem.ActiveKeys) do
        if not data.used then
            local timeLeft = math.floor((data.expiration - tick()) / 86400)
            table.insert(activeKeys, key .. " (" .. data.type .. ") - " .. timeLeft .. " dias")
        end
    end
    
    if #activeKeys > 0 then
        KeysDisplay.Text = "KEYS ATIVAS (" .. #activeKeys .. "):\n" .. table.concat(activeKeys, "\n")
        print("=== KEYS ATIVAS ===")
        for _, k in ipairs(activeKeys) do print(k) end
        print("===================")
    else
        KeysDisplay.Text = "Nenhuma key ativa no momento."
    end
    
    CreateNotification("Keys Ativas", #activeKeys .. " keys encontradas", 3)
end)

CreateButton(DevPage, "üóëÔ∏è Limpar Keys Usadas", Color3.fromRGB(255, 100, 100), function()
    if CurrentRank ~= "DEVELOPER" then return end
    
    local count = 0
    for key, data in pairs(_G.KeySystem.ActiveKeys) do
        if data.used then
            _G.KeySystem.ActiveKeys[key] = nil
            count = count + 1
        end
    end
    
    KeysDisplay.Text = count .. " keys usadas removidas!"
    CreateNotification("Limpo!", count .. " keys removidas", 3)
end)

--// CRIAR ABAS INICIAIS
CreateTab("Principal", "Main", CONFIG.Colors.Primary)
CreateTab("Visual", "Visual", CONFIG.Colors.Secondary)
CreateTab("Teleport", "Teleport", Color3.fromRGB(255, 100, 100))

-- Mostrar primeira p√°gina
Pages.Main.Visible = true

--// SISTEMA DE RANK E LOGIN
local function SetupRank()
    CurrentRank = GetUserRank()
    
    if CurrentRank == "DEVELOPER" then
        _G.RankLabel.Text = "üëë DEVELOPER"
        _G.RankLabel.TextColor3 = CONFIG.Colors.Dev
        CreateTab("Premium", "Premium", CONFIG.Colors.Premium)
        CreateTab("Dev", "Dev", CONFIG.Colors.Dev)
        
        -- Comandos chat funcionando 100%
        LocalPlayer.Chatted:Connect(function(msg)
            local args = msg:split(" ")
            local cmd = args[1]:lower()
            
            if cmd == "!genkey" then
                local keyType = args[2] or "basic"
                local days = tonumber((args[3] or "7"):gsub("d", "")) or 7
                if keyType == "lifetime" then days = 999999 end
                
                local key = GenerateKey(keyType, days)
                CreateNotification("Key Gerada!", key .. " (" .. keyType .. ")", 10)
                print("!genkey usado - Key: " .. key)
                
            elseif cmd == "!keys" then
                local count = 0
                print("=== TODAS AS KEYS ===")
                for k, data in pairs(_G.KeySystem.ActiveKeys) do
                    if not data.used then
                        local timeLeft = math.floor((data.expiration - tick()) / 86400)
                        print(k .. " | " .. data.type .. " | " .. timeLeft .. " dias")
                        count = count + 1
                    end
                end
                print("Total: " .. count .. " keys ativas")
                CreateNotification("Keys", count .. " keys ativas (veja console)", 3)
                
            elseif cmd == "!ban" then
                local target = args[2]
                if target then
                    table.insert(_G.KeySystem.BannedUsers, target)
                    CreateNotification("Banido!", target .. " foi banido!", 3)
                end
                
                Toggle.BackgroundColor3 = CONFIG.Colors.Glass
    Toggle.BorderSizePixel = 0
    Toggle.Size = UDim2.new(1, -20, 0, 40)
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 8)
    Corner.Parent = Toggle
    
    local Label = Instance.new("TextLabel")
    Label.Parent = Toggle
    Label.BackgroundTransparency = 1
    Label.Position = UDim2.new(0, 15, 0, 0)
    Label.Size = UDim2.new(0.6, 0, 1, 0)
    Label.Font = Enum.Font.Gotham
    Label.Text = name
    Label.TextColor3 = Color3.fromRGB(255, 255, 255)
    Label.TextSize = 13
    Label.TextXAlignment = Enum.TextXAlignment.Left
    
    local Switch = Instance.new("Frame")
    Switch.Parent = Toggle
    Switch.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
    Switch.BorderSizePixel = 0
    Switch.Position = UDim2.new(1, -55, 0.5, -12)
    Switch.Size = UDim2.new(0, 45, 0, 24)
    
    local SwitchCorner = Instance.new("UICorner")
    SwitchCorner.CornerRadius = UDim.new(1, 0)
    SwitchCorner.Parent = Switch
    
    local Circle = Instance.new("Frame")
    Circle.Parent = Switch
    Circle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Circle.BorderSizePixel = 0
    Circle.Position = UDim2.new(0, 2, 0.5, -10)
    Circle.Size = UDim2.new(0, 20, 0, 20)
    
    local CircleCorner = Instance.new("UICorner")
    CircleCorner.CornerRadius = UDim.new(1, 0)
    CircleCorner.Parent = Circle
    
    local Click = Instance.new("TextButton")
    Click.Parent = Toggle
    Click.BackgroundTransparency = 1
    Click.Size = UDim2.new(1, 0, 1, 0)
    Click.Text = ""
    
    local enabled = false
    local function Update()
        if enabled then
            Switch.BackgroundColor3 = CONFIG.Colors.Primary
            Circle:TweenPosition(UDim2.new(0, 23, 0.5, -10), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, 0.2, true)
            Label.TextColor3 = CONFIG.Colors.Primary
        else
            Switch.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
            Circle:TweenPosition(UDim2.new(0, 2, 0.5, -10), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, 0.2, true)
            Label.TextColor3 = Color3.fromRGB(255, 255, 255)
        end
    end
    
    Click.MouseButton1Click:Connect(function()
        enabled = not enabled
        Update()
        if callback then callback(enabled) end
    end)
    
    return Toggle
end

--// FUN√á√ÉO CRIAR BOT√ÉO
local function CreateButton(parent, name, color, callback)
    local Button = Instance.new("TextButton")
    Button.Parent = parent
    Button.BackgroundColor3 = color or CONFIG.Colors.Glass
    Button.BorderSizePixel = 0
    Button.Size = UDim2.new(1, -20, 0, 40)
    Button.Font = Enum.Font.GothamBold
    Button.Text = name
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.TextSize = 13
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 8)
    Corner.Parent = Button
    
    Button.MouseEnter:Connect(function()
        Button:TweenSize(UDim2.new(1, -16, 0, 42), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, 0.2, true)
    end)
    
    Button.MouseLeave:Connect(function()
        Button:TweenSize(UDim2.new(1, -20, 0, 40), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, 0.2, true)
    end)
    
    Button.MouseButton1Click:Connect(function()
        if callback then callback() end
    end)
    
    return Button
end

--// FUN√á√ÉO CRIAR P√ÅGINA
local function CreatePage(name)
    local Page = Instance.new("ScrollingFrame")
    Page.Name = name .. "Page"
    Page.Parent = _G.ContentArea
    Page.BackgroundTransparency = 1
    Page.BorderSizePixel = 0
    Page.Size = UDim2.new(1, 0, 1, 0)
    Page.ScrollBarThickness = 4
    Page.ScrollBarImageColor3 = CONFIG.Colors.Primary
    Page.Visible = false
    
    local Layout = Instance.new("UIListLayout")
    Layout.Parent = Page
    Layout.SortOrder = Enum.SortOrder.LayoutOrder
    Layout.Padding = UDim.new(0, 8)
    Layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    
    local Padding = Instance.new("UIPadding")
    Padding.Parent = Page
    Padding.PaddingTop = UDim.new(0, 10)
    Padding.PaddingBottom = UDim.new(0, 10)
    
    Pages[name] = Page
    return Page
end

--// FUN√á√ÉO CRIAR ABA
local function CreateTab(name, pageName, color)
    local Tab = Instance.new("TextButton")
    Tab.Parent = _G.Sidebar
    Tab.BackgroundColor3 = CONFIG.Colors.Glass
    Tab.BorderSizePixel = 0
    Tab.Size = UDim2.new(1, -20, 0, 40)
    Tab.Font = Enum.Font.GothamBold
    Tab.Text = "  " .. name
    Tab.TextColor3 = Color3.fromRGB(200, 200, 220)
    Tab.TextSize = 12
    Tab.TextXAlignment = Enum.TextXAlignment.Left
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 8)
    Corner.Parent = Tab
    
    Tab.MouseButton1Click:Connect(function()
        for _, p in pairs(Pages) do p.Visible = false end
        for _, t in pairs(_G.Sidebar:GetChildren()) do
            if t:IsA("TextButton") then
                t.BackgroundColor3 = CONFIG.Colors.Glass
                t.TextColor3 = Color3.fromRGB(200, 200, 220)
            end
        end
        Pages[pageName].Visible = true
        Tab.BackgroundColor3 = color
        Tab.TextColor3 = Color3.fromRGB(255, 255, 255)
    end)
    
    return Tab
end

--// P√ÅGINA PRINCIPAL
local MainPage = CreatePage("Main")

local MainTitle = Instance.new("TextLabel")
MainTitle.Parent = MainPage
MainTitle.BackgroundTransparency = 1
MainTitle.Size = UDim2.new(1, -20, 0, 30)
MainTitle.Font = Enum.Font.GothamBold
MainTitle.Text = "‚ö° FUN√á√ïES PRINCIPAIS"
MainTitle.TextColor3 = CONFIG.Colors.Primary
MainTitle.TextSize = 16

CreateToggle(MainPage, "Never Fail Hack", function(state)
    States.NeverFail = state
    if state then
        spawn(function()
            while States.NeverFail do
                pcall(function()
                    ReplicatedStorage.RemoteEvent:FireServer("SetPlayerMinigameResult", true)
                end)
                wait(0.1)
            end
        end)
    end
end)

CreateToggle(MainPage, "Always Fail (Troll)", function(state)
    States.AlwaysFail = state
    if state then
        spawn(function()
            while States.AlwaysFail do
                pcall(function()
                    ReplicatedStorage.RemoteEvent:FireServer("SetPlayerMinigameResult", false)
                end)
                wait(0.1)
            end
        end)
    end
end)

CreateToggle(MainPage, "Super Speed", function(state)
    States.Speed = state
    local char = LocalPlayer.Character
    if char and char:FindFirstChild("Humanoid") then
        char.Humanoid.WalkSpeed = state and SpeedValue or 16
    end
end)

CreateToggle(MainPage, "God Mode", function(state)
    States.GodMode = state
end)

CreateToggle(MainPage, "Fly Mode", function(state)
    States.Fly = state
    local char = LocalPlayer.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") then return end
    
    if state then
        FlyBodyGyro = Instance.new("BodyGyro")
        FlyBodyGyro.Parent = char.HumanoidRootPart
        FlyBodyGyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
        FlyBodyGyro.CFrame = char.HumanoidRootPart.CFrame
        
        FlyBodyVelocity = Instance.new("BodyVelocity")
        FlyBodyVelocity.Parent = char.HumanoidRootPart
        FlyBodyVelocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)
        FlyBodyVelocity.Velocity = Vector3.new(0, 0, 0)
        
        spawn(function()
            while States.Fly and FlyBodyGyro and FlyBodyVelocity do
                local cam = workspace.CurrentCamera
                local dir = Vector3.new(0, 0, 0)
                
                if UserInputService:IsKeyDown(Enum.KeyCode.W) then dir = dir + cam.CFrame.LookVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.S) then dir = dir - cam.CFrame.LookVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.A) then dir = dir - cam.CFrame.RightVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.D) then dir = dir + cam.CFrame.RightVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.Space) then dir = dir + Vector3.new(0, 1, 0) end
                if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then dir = dir - Vector3.new(0, 1, 0) end
                
                FlyBodyVelocity.Velocity = dir * 50
                FlyBodyGyro.CFrame = cam.CFrame
                RunService.RenderStepped:Wait()
            end
        end)
    else
        if FlyBodyGyro then FlyBodyGyro:Destroy() end
        if FlyBodyVelocity then FlyBodyVelocity:Destroy() end
    end
end)

CreateToggle(MainPage, "Noclip", function(state)
    States.Noclip = state
end)

--// P√ÅGINA VISUAL
local VisualPage = CreatePage("Visual")

local VisualTitle = Instance.new("TextLabel")
VisualTitle.Parent = VisualPage
VisualTitle.BackgroundTransparency = 1
VisualTitle.Size = UDim2.new(1, -20, 0, 30)
VisualTitle.Font = Enum.Font.GothamBold
VisualTitle.Text = "üëÅ ESP COM NOMES"
VisualTitle.TextColor3 = CONFIG.Colors.Secondary
VisualTitle.TextSize = 16

CreateToggle(VisualPage, "Player ESP (com nome)", function(state)
    States.PlayerESP = state
    if state then
        EnablePlayerESP()
        CreateNotification("ESP Ativado", "Mostrando jogadores com nomes!", 2)
    else
        DisablePlayerESP()
    end
end)

CreateToggle(VisualPage, "Computer ESP (com nome)", function(state)
    States.ComputerESP = state
    if state then
        EnableComputerESP()
        CreateNotification("Computer ESP", "Mostrando computadores!", 2)
    else
        if ESPLoops.Computer then ESPLoops.Computer:Disconnect() end
    end
end)

CreateToggle(VisualPage, "Pod ESP (com nome)", function(state)
    States.PodESP = state
    if state then
        EnablePodESP()
        CreateNotification("Pod ESP", "Mostrando pods de resgate!", 2)
    else
        -- Desativar
    end
end)

CreateToggle(VisualPage, "No Fog", function(state)
    States.NoFog = state
    if state then
        Lighting.FogStart = 100000
        Lighting.FogEnd = 100000
        Lighting.Brightness = 5
    else
        Lighting.FogStart = 100
        Lighting.FogEnd = 1000
        Lighting.Brightness = 1
    end
end)

CreateToggle(VisualPage, "Fullbright", function(state)
    States.Fullbright = state
    if state then
        Lighting.Brightness = 10
        Lighting.GlobalShadows = false
        Lighting.Ambient = Color3.fromRGB(255, 255, 255)
    else
        Lighting.Brightness = 1
        Lighting.GlobalShadows = true
        Lighting.Ambient = Color3.fromRGB(127, 127, 127)
    end
end)

--// P√ÅGINA TELEPORT
local TeleportPage = CreatePage("Teleport")

local TeleportTitle = Instance.new("TextLabel")
TeleportTitle.Parent = TeleportPage
TeleportTitle.BackgroundTransparency = 1
TeleportTitle.Size = UDim2.new(1, -20, 0, 30)
TeleportTitle.Font = Enum.Font.GothamBold
TeleportTitle.Text = "üåç TELEPORTE"
TeleportTitle.TextColor3 = Color3.fromRGB(255, 100, 100)
TeleportTitle.TextSize = 16

CreateButton(TeleportPage, "üîÑ Atualizar Lista de PCs", Color3.fromRGB(80, 120, 255), function()
    PCPositions = {}
    for _, v in pairs(workspace:GetDescendants()) do
        if v.Name == "ComputerTable" and v:FindFirstChild("ComputerTrigger1") then
            table.insert(PCPositions, v.ComputerTrigger1.CFrame)
        end
    end
    CreateNotification("Computadores", #PCPositions .. " PCs encontrados!", 2)
end)

for i = 1, 7 do
    CreateButton(TeleportPage, "üíª Teleportar PC #" .. i, Color3.fromRGB(60, 80, 200), function()
        if PCPositions[i] then
            local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            if hrp then 
                hrp.CFrame = PCPositions[i] + Vector3.new(0, 3, 0)
                CreateNotification("Teleporte", "Teleportado para PC #" .. i, 2)
            end
        else
            CreateNotification("Erro", "PC #" .. i .. " n√£o encontrado!", 2)
        end
    end)
end

CreateButton(TeleportPage, "üö™ Teleportar para Sa√≠da", Color3.fromRGB(255, 100, 100), function()
    for _, v in pairs(workspace:GetDescendants()) do
        if v.Name:match("Exit") and v:IsA("BasePart") then
            local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            if hrp then 
                hrp.CFrame = v.CFrame + Vector3.new(0, 5, 0)
                CreateNotification("Teleporte", "Teleportado para sa√≠da!", 2)
            end
            break
        end
    end
end)

CreateButton(TeleportPage, "üÜò Teleportar para Pods", Color3.fromRGB(100, 255, 100), function()
    for _, v in pairs(workspace:GetDescendants()) do
        if v.Name:match("Pod") and v:IsA("BasePart") then
            local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            if hrp then 
                hrp.CFrame = v.CFrame + Vector3.new(0, 5, 0)
                CreateNotification("Teleporte", "Teleportado para pods!", 2)
            end
            break
        end
    end
end)

--// P√ÅGINA PREMIUM
local PremiumPage = CreatePage("Premium")

local PremiumTitle = Instance.new("TextLabel")
PremiumTitle.Parent = PremiumPage
PremiumTitle.BackgroundTransparency = 1
PremiumTitle.Size = UDim2.new(1, -20, 0, 30)
PremiumTitle.Font = Enum.Font.GothamBold
PremiumTitle.Text = "‚≠ê FUN√á√ïES PREMIUM"
PremiumTitle.TextColor3 = CONFIG.Colors.Premium
PremiumTitle.TextSize = 16

CreateToggle(PremiumPage, "Auto Farm Completo", function(state)
    States.AutoFarm = state
    if state then CreateNotification("Auto Farm", "Em desenvolvimento...", 2) end
end)

CreateToggle(PremiumPage, "Auto Rescue Amigos", function(state)
    States.AutoRescue = state
end)

CreateToggle(PremiumPage, "Auto Loot", function(state)
    States.AutoLoot = state
end)

CreateToggle(PremiumPage, "Invisibilidade", function(state)
    if state then CreateNotification("Premium", "Fun√ß√£o Premium ativa!", 2) end
end)

CreateToggle(PremiumPage, "Speed Hack 100x", function(state)
    if state then 
        local char = LocalPlayer.Character
        if char and char:FindFirstChild("Humanoid") then
            char.Humanoid.WalkSpeed = 100
        end
    else
        local char = LocalPlayer.Character
        if char and char:FindFirstChild("Humanoid") then
            char.Humanoid.WalkSpeed = 16
        end
    end
end)

CreateToggle(PremiumPage, "Anti-Ban Ultra", function(state)
    if state then CreateNotification("Prote√ß√£o", "Anti-Ban ativado!", 2) end
end)

--// P√ÅGINA DEV
local DevPage = CreatePage("Dev")

local DevTitle = Instance.new("TextLabel")
DevTitle.Parent = DevPage
DevTitle.BackgroundTransparency = 1
DevTitle.Size = UDim2.new(1, -20, 0, 30)
DevTitle.Font = Enum.Font.GothamBold
DevTitle.Text = "üîí DEV PANEL - KEYS"
DevTitle.TextColor3 = CONFIG.Colors.Dev
DevTitle.TextSize = 16

-- Display de keys geradas
local KeysDisplay = Instance.new("TextLabel")
KeysDisplay.Parent = DevPage
KeysDisplay.BackgroundTransparency = 1
KeysDisplay.Size = UDim2.new(1, -20, 0, 60)
KeysDisplay.Font = Enum.Font.Gotham
KeysDisplay.Text = "Nenhuma key gerada ainda...\nUse os comandos no chat!"
KeysDisplay.TextColor3 = Color3.fromRGB(200, 200, 200)
KeysDisplay.TextSize = 11
KeysDisplay.TextWrapped = true

CreateButton(DevPage, "üìù Gerar Key Premium (7d)", CONFIG.Colors.Premium, function()
    if CurrentRank == "DEVELOPER" then
        local key = GenerateKey("premium", 7)
        KeysDisplay.Text = "KEY PREMIUM (7 dias):\n" .. key .. "\n\nCopie e envie para o usu√°rio!"
        CreateNotification("Key Gerada!", key, 10)
        print("=== KEY PREMIUM ===")
        print(key)
        print("===================")
    end
end)

CreateButton(DevPage, "üìù Gerar Key Basic (30d)", CONFIG.Colors.Secondary, function()
    if CurrentRank == "DEVELOPER" then
        local key = GenerateKey("basic", 30)
        KeysDisplay.Text = "KEY BASIC (30 dias):\n" .. key
        CreateNotification("Key Gerada!", key, 10)
        print("=== KEY BASIC ===")
        print(key)
        print("=================")
    end
end)

CreateButton(DevPage, "üëë Gerar Key Lifetime", CONFIG.Colors.Dev, function()
    if CurrentRank == "DEVELOPER" then
        local key = GenerateKey("lifetime", 999999)
        KeysDisplay.Text = "KEY LIFETIME:\n" .. key
        CreateNotification("Key Lifetime!", key, 10)
        print("=== KEY LIFETIME ===")
        print(key)
        print("====================")
    end
end)

CreateButton(DevPage, "üìã Ver Todas Keys Ativas", CONFIG.Colors.Primary, function()
    if CurrentRank ~= "DEVELOPER" then return end
    
    local activeKeys = {}
    for key, data in pairs(_G.KeySystem.ActiveKeys) do
        if not data.used then
            local timeLeft = math.floor((data.expiration - tick()) / 86400)
            table.insert(activeKeys, key .. " (" .. data.type .. ") - " .. timeLeft .. " dias")
        end
    end
    
    if #activeKeys > 0 then
        KeysDisplay.Text = "KEYS ATIVAS (" .. #activeKeys .. "):\n" .. table.concat(activeKeys, "\n")
        print("=== KEYS ATIVAS ===")
        for _, k in ipairs(activeKeys) do print(k) end
        print("===================")
    else
        KeysDisplay.Text = "Nenhuma key ativa no momento."
    end
    
    CreateNotification("Keys Ativas", #activeKeys .. " keys encontradas", 3)
end)

CreateButton(DevPage, "üóëÔ∏è Limpar Keys Usadas", Color3.fromRGB(255, 100, 100), function()
    if CurrentRank ~= "DEVELOPER" then return end
    
    local count = 0
    for key, data in pairs(_G.KeySystem.ActiveKeys) do
        if data.used then
            _G.KeySystem.ActiveKeys[key] = nil
            count = count + 1
        end
    end
    
    KeysDisplay.Text = count .. " keys usadas removidas!"
    CreateNotification("Limpo!", count .. " keys removidas", 3)
end)

--// CRIAR ABAS INICIAIS
CreateTab("Principal", "Main", CONFIG.Colors.Primary)
CreateTab("Visual", "Visual", CONFIG.Colors.Secondary)
CreateTab("Teleport", "Teleport", Color3.fromRGB(255, 100, 100))

-- Mostrar primeira p√°gina
Pages.Main.Visible = true

--// SISTEMA DE RANK E LOGIN
local function SetupRank()
    CurrentRank = GetUserRank()
    
    if CurrentRank == "DEVELOPER" then
        _G.RankLabel.Text = "üëë DEVELOPER"
        _G.RankLabel.TextColor3 = CONFIG.Colors.Dev
        CreateTab("Premium", "Premium", CONFIG.Colors.Premium)
        CreateTab("Dev", "Dev", CONFIG.Colors.Dev)
        
        -- Comandos chat funcionando 100%
        LocalPlayer.Chatted:Connect(function(msg)
            local args = msg:split(" ")
            local cmd = args[1]:lower()
            
            if cmd == "!genkey" then
                local keyType = args[2] or "basic"
                local days = tonumber((args[3] or "7"):gsub("d", "")) or 7
                if keyType == "lifetime" then days = 999999 end
                
                local key = GenerateKey(keyType, days)
                CreateNotification("Key Gerada!", key .. " (" .. keyType .. ")", 10)
                print("!genkey usado - Key: " .. key)
                
            elseif cmd == "!keys" then
                local count = 0
                print("=== TODAS AS KEYS ===")
                for k, data in pairs(_G.KeySystem.ActiveKeys) do
                    if not data.used then
                        local timeLeft = math.floor((data.expiration - tick()) / 86400)
                        print(k .. " | " .. data.type .. " | " .. timeLeft .. " dias")
                        count = count + 1
                    end
                end
                print("Total: " .. count .. " keys ativas")
                CreateNotification("Keys", count .. " keys ativas (veja console)", 3)
                
            elseif cmd == "!ban" then
                local target = args[2]
                if target then
                    table.insert(_G.KeySystem.BannedUsers, target)
                    CreateNotification("Banido!", target .. " foi banido!", 3)
                end
                
            elseif cmd == "!unban" then
                local target = args[2]
                if target then
                    for i, name in ipairs(_G.KeySystem.BannedUsers) do
                        if name == target then
                            table.remove(_G.KeySystem.BannedUsers, i)
                            CreateNotification("Desbanido!", target, 3)
                            break
                        end
                    end
                end
                
            elseif cmd == "!addpremium" then
                local target = args[2]
                if target then
                    table.insert(_G.KeySystem.PremiumUsers, target)
                    CreateNotification("Premium!", target .. " agora √© Premium!", 3)
                end
                
            elseif cmd == "!removepremium" then
                local target = args[2]
                if target then
                    for i, name in ipairs(_G.KeySystem.PremiumUsers) do
                                                if name == target then
                            table.remove(_G.KeySystem.BannedUsers, i)
                            CreateNotification("Desbanido!", target, 3)
                            break
                        end
                    end
                end
                
            elseif cmd == "!addpremium" then
                local target = args[2]
                if target then
                    table.insert(_G.KeySystem.PremiumUsers, target)
                    CreateNotification("Premium!", target .. " agora √© Premium!", 3)
                end
                
            elseif cmd == "!removepremium" then
                local target = args[2]
                if target then
                    for i, name in ipairs(_G.KeySystem.PremiumUsers) do
                        if name == target then
                            table.remove(_G.KeySystem.PremiumUsers, i)
                            CreateNotification("Removido!", target .. " n√£o √© mais Premium", 3)
                            break
                        end
                    end
                end
            end
        end)
CreateNotification("Developer Mode", "Comandos: !genkey, !keys, !ban, !addpremium", 5)
        
    elseif CurrentRank == "PREMIUM" then
        _G.RankLabel.Text = "‚≠ê PREMIUM"
        _G.RankLabel.TextColor3 = CONFIG.Colors.Premium
        CreateTab("Premium", "Premium", CONFIG.Colors.Premium)
        
    else
        _G.RankLabel.Text = "üî∑ BASIC"
        _G.RankLabel.TextColor3 = CONFIG.Colors.Secondary
    end
end

--// LOGIN SYSTEM
local function ShowLogin()
    local LoginFrame = Instance.new("Frame")
    LoginFrame.Name = "LoginFrame"
    LoginFrame.Parent = ScreenGui
    LoginFrame.BackgroundColor3 = CONFIG.Colors.Background
    LoginFrame.BackgroundTransparency = 0.1
    LoginFrame.BorderSizePixel = 0
    LoginFrame.Position = UDim2.new(0.5, -200, 0.5, -150)
    LoginFrame.Size = UDim2.new(0, 400, 0, 300)
    LoginFrame.ZIndex = 100
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 16)
    Corner.Parent = LoginFrame
local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 16)
    Corner.Parent = LoginFrame
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = CONFIG.Colors.Primary
    Stroke.Thickness = 3
    Stroke.Parent = LoginFrame
    
    local Title = Instance.new("TextLabel")
    Title.Parent = LoginFrame
    Title.BackgroundTransparency = 1
    Title.Position = UDim2.new(0, 0, 0, 20)
    Title.Size = UDim2.new(1, 0, 0, 40)
    Title.Font = Enum.Font.GothamBold
    Title.Text = "‚òÖ The StarEzic Hub ‚òÖ"
    Title.TextColor3 = CONFIG.Colors.Primary
    Title.TextSize = 28
    
    local SubTitle = Instance.new("TextLabel")
    SubTitle.Parent = LoginFrame
    SubTitle.BackgroundTransparency = 1
    Title.Position = UDim2.new(0, 0, 0, 20)
    Title.Size = UDim2.new(1, 0, 0, 40)
    Title.Font = Enum.Font.GothamBold
    Title.Text = "‚òÖ The StarEzic Hub ‚òÖ"
    Title.TextColor3 = CONFIG.Colors.Primary
    Title.TextSize = 28
    
    local KeyBox = Instance.new("TextBox")
    KeyBox.Parent = LoginFrame
    KeyBox.BackgroundColor3 = CONFIG.Colors.Glass
    KeyBox.BorderSizePixel = 0
    KeyBox.Position = UDim2.new(0.5, -150, 0, 100)
KeyBox.Size = UDim2.new(0, 300, 0, 45)
    KeyBox.Font = Enum.Font.Gotham
    KeyBox.PlaceholderText = "Digite sua Key aqui..."
    KeyBox.Text = ""
    KeyBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    KeyBox.TextSize = 16
    
    local KeyCorner = Instance.new("UICorner")
    KeyCorner.CornerRadius = UDim.new(0, 10)
    KeyCorner.Parent = KeyBox
    
    local VerifyBtn = Instance.new("TextButton")
    VerifyBtn.Parent = LoginFrame
    VerifyBtn.BackgroundColor3 = CONFIG.Colors.Primary
    VerifyBtn.BorderSizePixel = 0
    VerifyBtn.Position = UDim2.new(0.5, -100, 0, 160)
    VerifyBtn.Size = UDim2.new(0, 200, 0, 45)
    VerifyBtn.Font = Enum.Font.GothamBold
    VerifyBtn.Text = "VERIFICAR KEY"
    VerifyBtn.TextColor3 = Color3.fromRGB(0, 0, 0)
    VerifyBtn.TextSize = 16
    
    local VerifyCorner = Instance.new("UICorner")
    VerifyCorner.CornerRadius = UDim.new(0, 10)
    VerifyCorner.Parent = VerifyBtn
    local InfoLabel = Instance.new("TextLabel")
    InfoLabel.Parent = LoginFrame
    InfoLabel.BackgroundTransparency = 1
    InfoLabel.Position = UDim2.new(0, 0, 0, 260)
    InfoLabel.Size = UDim2.new(1, 0, 0, 30)
    InfoLabel.Font = Enum.Font.Gotham
    InfoLabel.Text = "N√£o tem key? Contate: " .. CONFIG.Developer
    InfoLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
    InfoLabel.TextSize = 11
    
    VerifyBtn.MouseButton1Click:Connect(function()
        local key = KeyBox.Text:upper():gsub("%s+", "")
        
        if _G.KeySystem.ActiveKeys[key] and not _G.KeySystem.ActiveKeys[key].used then
            local data = _G.KeySystem.ActiveKeys[key]
            data.used = true
            data.usedBy = LocalPlayer.Name
            _G.KeySystem.UserAccess[LocalPlayer.Name] = {
                rank = data.type:upper(),
                expiration = data.expiration
            }
LoginFrame:Destroy()
        SetupRank()
        _G.MainFrame.Visible = true
        _G.ToggleBtn.Visible = true
        CreateNotification("üéâ Teste Iniciado!", "1 hora de acesso gr√°tis!", 5)
    end)
end

--// INICIALIZA√á√ÉO
spawn(function()
    wait(1)
    if GetUserRank() == "DEVELOPER" then
        _G.MainFrame.Visible = true
        _G.ToggleBtn.Visible = true
        SetupRank()
    else
        ShowLogin()
    end
end)
--// FPS E PING COUNTER
spawn(function()
    while wait(0.5) do
        local fps = math.floor(1 / RunService.RenderStepped:Wait())
        if _G.FPSLabel then _G.FPSLabel.Text = "FPS: " .. fps end
        
        local success, ping = pcall(function()
            return game:GetService("Stats").Network.ServerStatsItem["Data Ping"]:GetValue()
        end)
        if success and _G.PingLabel then
            _G.PingLabel.Text = "Ping: " .. math.floor(ping) .. "ms"
        end
    end
end)

--// PROTE√á√ÉO ANTI-BAN/ANTI-KICK
local OldNamecall
OldNamecall = hookmetamethod(game, "__namecall", function(self, ...)
    local Method = getnamecallmethod()
    local Args = {...}
    
    if Method == "Kick" then
        CreateNotification("üõ°Ô∏è Prote√ß√£o", "Tentativa de kick bloqueada!", 3)
        return nil
    end
end
return OldNamecall(self, ...)
end)

--// NOCLIP LOOP
RunService.Stepped:Connect(function()
    if States.Noclip and LocalPlayer.Character then
        for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
end)

print("‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó")
print("‚ïë                                                                ‚ïë")
print("‚ïë           ‚òÖ‚òÖ‚òÖ The StarEzic Hub V2.0 ‚òÖ‚òÖ‚òÖ                        ‚ïë")
print("‚ïë           TUDO FUNCIONANDO 100%!                               ‚ïë")
print("‚ïë                                                                ‚ïë")
print("‚ïë           ESP com nomes ‚úì                                      ‚ïë")
print("‚ïë           Sistema de Keys ‚úì                                    ‚ïë")
print("‚ïë           Comandos Developer ‚úì                                 ‚ïë")
print("‚ïë           Teleporte ‚úì                                          ‚ïë")
print("‚ïë           Prote√ß√µes ‚úì                                          ‚ïë")
print("‚ïë                                                                ‚ïë")
print("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù")
